@{
    HomeViewModel model = Model;
    var products = model.Products;
    var categories = model.Categories;
    
}
      <!-- Slider -->
<div class="tf-slideshow slider-effect-fade slider-skincare position-relative">
    <div dir="ltr" class="swiper tf-sw-slideshow" data-preview="1" data-tablet="1" data-mobile="1"
         data-centered="false" data-space="0" data-loop="true" data-auto-play="false" data-delay="0"
         data-speed="1000">
        <div class="swiper-wrapper">
            <div class="swiper-slide">
                <div class="wrap-slider">
                    <img src="~/images/slider/furniture_slide1.jpg" alt="fashion-slideshow">
                    <div class="box-content">
                        <div class="container">
                            <h1 class="fade-item fade-item-1 text-white">Quality<br>Craftsmanship</h1>
                            <p class="fade-item fade-item-2 text-white">
                                Discover furniture crafted with
                                meticulous attention to detail
                            </p>
                            <a href="shop-default.html"
                               class="fade-item fade-item-3 tf-btn btn-light-icon animate-hover-btn btn-xl radius-3">
                                <span>
                                    Shop
                                    collection
                                </span><i class="icon icon-arrow-right"></i>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="swiper-slide">
                <div class="wrap-slider">
                    <img src="~/images/slider/furniture_slide2.jpg" alt="fashion-slideshow">
                    <div class="box-content">
                        <div class="container">
                            <h1 class="fade-item fade-item-1 text-white">
                                Sophisticated<br class="md-hidden">detailed design
                            </h1>
                            <p class="fade-item fade-item-2 text-white">
                                Discover furniture crafted with
                                meticulous attention to detail
                            </p>
                            <a href="shop-default.html"
                               class="fade-item fade-item-3 tf-btn btn-light-icon animate-hover-btn btn-xl radius-3">
                                <span>
                                    Shop
                                    collection
                                </span><i class="icon icon-arrow-right"></i>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="swiper-slide">
                <div class="wrap-slider">
                    <img src="~/images/slider/furniture_slide3.jpg" alt="fashion-slideshow">
                    <div class="box-content">
                        <div class="container">
                            <h1 class="fade-item fade-item-1 text-white">High-end<br>luxury style</h1>
                            <p class="fade-item fade-item-2 text-white">
                                Discover furniture crafted with
                                meticulous attention to detail
                            </p>
                            <a href="shop-default.html"
                               class="fade-item fade-item-3 tf-btn btn-light-icon animate-hover-btn btn-xl radius-3">
                                <span>
                                    Shop
                                    collection
                                </span><i class="icon icon-arrow-right"></i>
                            </a>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>
    <div class="wrap-pagination sw-absolute-3">
        <div class="sw-dots style-2 dots-white sw-pagination-slider justify-content-center"></div>
    </div>
</div>
<!-- /Slider -->
<!-- Categories -->
<section class="flat-spacing-18">
    <div class="container">
        <div class="flat-title">
            <span class="title wow fadeInUp" data-wow-delay="0s">Design deals, delivered free</span>
        </div>
        <div class="wrap-carousel wrap-mobile">
            <div dir="ltr" class="swiper tf-sw-mobile" data-preview="1.3" data-space="15">
                <div class="swiper-wrapper grid-mobile-1">
                    @foreach (var item in Model.Categories)
                    {
                        <div class="swiper-slide">
                            <div class="collection-item-v2 hover-img">
                                <a href="shop-collection-sub.html" class="collection-inner">
                                    <div class="collection-image img-style">
                                        <img class="lazyload" data-src="images/collections/@item.ImageName"
                                        src="~/images/collections/@item.ImageName" alt="collection-img">
                                    </div>
                                    <div class="collection-content">
                                        <div class="top wow fadeInUp" data-wow-delay="0s">
                                            <h5 class="heading">@item.Name</h5>
                                            <p class="subheading">@item.Description</p>
                                        </div>
                                        <div class="bottom wow fadeInUp" data-wow-delay="0s">
                                            <button class="tf-btn btn-line collection-other-link fw-6">
                                                <span>
                                                    Shop
                                                    now
                                                </span><i class="icon icon-arrow1-top-left"></i>
                                            </button>
                                        </div>
                                    </div>
                                </a>
                            </div>
                        </div>
                    }
                </div>

            </div>
        </div>
    </div>
</section>
<!-- /Categories -->
<!-- Iconbox -->
<section class="flat-spacing-27 bg_beige-2">
    <div class="container">
        <div class="flat-title">
            <span class="title wow fadeInUp text-white text-center" data-wow-delay="0s">
                We’re solving the
                biggest problems in furniture
            </span>
        </div>
        <div class="wrap-carousel wrap-mobile flat-iconbox-v2 style-2 wow fadeInUp" data-wow-delay="0s">
            <div dir="ltr" class="swiper tf-sw-mobile-1" data-preview="1" data-space="15">
                <div class="swiper-wrapper wrap-iconbox">
                    <div class="swiper-slide">
                        <div class="tf-icon-box text-center">
                            <div class="icon">
                                <i class="icon-shipping-1 text-white"></i>
                            </div>
                            <div class="content">
                                <div class="title text-white">Fast & free shipping</div>
                                <p class="text-white">
                                    Every single order ships for free. No minimums, no tiers,
                                    no fine print whatsoever.
                                </p>
                            </div>
                        </div>
                    </div>
                    <div class="swiper-slide">
                        <div class="tf-icon-box text-center">
                            <div class="icon">
                                <i class="icon-payment-1 text-white"></i>
                            </div>
                            <div class="content">
                                <div class="title text-white">Modular, easy-to-move design</div>
                                <p class="text-white">
                                    Our innovative modular design is driven by the belief that
                                    furniture should fit this home, and the next one.
                                </p>
                            </div>
                        </div>
                    </div>
                    <div class="swiper-slide">
                        <div class="tf-icon-box text-center">
                            <div class="icon">
                                <i class="icon-return-1 text-white"></i>
                            </div>
                            <div class="content">
                                <div class="title text-white">Durable, premium materials</div>
                                <p class="text-white">
                                    We use materials like sustainably-forested wood,
                                    strengthened steel hardware, and top-grain Italian leather.
                                </p>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
            <div class="sw-dots style-2 sw-pagination-mb-1 justify-content-center"></div>
        </div>
    </div>
</section>
<!-- /Iconbox -->
<!-- Seller -->
<section class="flat-spacing-27">
    <div class="container">
        <div class="flat-title flex-row justify-content-between px-0">
            <span class="title wow fadeInUp" data-wow-delay="0s">Best Seller</span>
            <div class="box-sw-navigation">
                <div class="nav-sw square nav-next-slider nav-next-product">
                    <span class="icon icon-arrow1-left"></span>
                </div>
                <div class="nav-sw square nav-prev-slider nav-prev-product">
                    <span class="icon icon-arrow1-right"></span>
                </div>
            </div>
        </div>
        <div class="hover-sw-nav hover-sw-2">
            <div dir="ltr" class="swiper tf-sw-product-sell wrap-sw-over" data-preview="4" data-tablet="3"
                 data-mobile="2" data-space-lg="30" data-space-md="15" data-pagination="2" data-pagination-md="3"
                 data-pagination-lg="3">
                <div class="swiper-wrapper">
                 @foreach(var product in products)
                    {
                        <div class="swiper-slide" lazy="true">
                            <div class="card-product">
                                <div class="card-product-wrapper">
                                    <a href="product-detail.html" class="product-img">
                                        <img class="lazyload img-product" data-src="images/products/@product.ProductVariants?.FirstOrDefault()?.CoverImageName"
                                        src="~/images/products/@product.ProductVariants?.FirstOrDefault()?.CoverImageName" alt="image-product">
                              
                                        @if (product.ProductVariants?.Count > 1)
                                        {
                                            <img class="lazyload img-hover" data-src="images/products/@product.ProductVariants[1]?.CoverImageName"
                                                 src="~/images/products/@product.ProductVariants[1]?.CoverImageName" alt="image-product">
                                        }
    
                                        @if(product.ProductVariants?.Count==1)
                                        {
                                            <img class="lazyload img-hover" data-src="images/products/@product.ProductVariants[0]?.CoverImageName"
                                                 src="~/images/products/@product.ProductVariants[0]?.CoverImageName" alt="image-product">
                                        }
      
                                    </a>
                                    <div class="list-product-btn absolute-2">
                                        <a  href="#" data-bs-toggle="modal"
                                        data-bs-target="#quick_add_@product.Id"
                                        class="box-icon bg_white quick-add tf-btn-loading">
                                            <span class="icon icon-bag"></span>
                                            <span class="tooltip">Quick Add</span>
                                        </a>
                                        <a onclick="addToWishlist(@product.Id)" class="box-icon bg_white wishlist btn-icon-action">
                                            <span class="icon icon-heart"></span>
                                            <span class="tooltip">Add to Wishlist</span>
                                            <span class="icon icon-delete"></span>
                                        </a>
                                        <a href="#compare" data-bs-toggle="offcanvas" aria-controls="offcanvasLeft"
                                        class="box-icon bg_white compare btn-icon-action">
                                            <span class="icon icon-compare"></span>
                                            <span class="tooltip">Add to Compare</span>
                                            <span class="icon icon-check"></span>
                                        </a>
                                        <a href="#" data-bs-toggle="modal"
                                        data-bs-target="#quick_view_@product.Id"   
                                        class="box-icon bg_white quickview tf-btn-loading quick-view-btn">
                                            <span class="icon icon-view"></span>
                                            <span class="tooltip">Quick View</span>
                                        </a>
                                    </div>
                                </div>
                                <div class="card-product-info">
                                    <a asp-controller="product" asp-action="details" asp-route-id="@product.DetailsUrl" class="title link">@product.Name</a>
                                    <span class="price">$@product.BasePrice</span>
                                    <ul class="list-color-product">
                                        @foreach(var variant in product.ProductVariants ?? [])
                                        {
                                        <li class="list-color-item color-swatch">
                                            <span class="tooltip">@variant.ColorName</span>
                                                <span class="@variant.ColorIconName"></span>
                                            <img class="lazyload" data-src="images/products/@variant.CoverImageName"
                                            src="~/images/products/@variant.CoverImageName" alt="image-product">
                                        </li>
                                        }
                                    </ul>
                                </div>
                            </div>
                        </div>                                      
                    }
                </div>
            </div>
            <div class="nav-sw nav-next-slider nav-next-product box-icon w_46 round">
                <span class="icon icon-arrow-left"></span>
            </div>
            <div class="nav-sw nav-prev-slider nav-prev-product box-icon w_46 round">
                <span class="icon icon-arrow-right"></span>
            </div>
        </div>
    </div>
</section>
<!-- /Seller -->

<!-- modal quick_add -->
@foreach (var product in products)
{
   <partial name="_ProductQuickAddModalPartial" model="@product" />
}
<!-- /modal quick_add -->

<!-- modal quick_view -->
@foreach (var product in products)
{
   <partial name="_ProductQuickViewModalPartial" model="@product"></partial>
}

<!-- /modal quick_view -->
<!-- Collection -->
<section class="bg_cream-2 flat-spacing-12">
    <div class="container">
        <div class="flat-title flat-title-v5">
            <span class="title wow fadeInUp text-center" data-wow-delay="0s">
                Explore each unique
                collection
            </span>
        </div>
        <div class="wrap-carousel">
            <div dir="ltr" class="swiper tf-sw-collection" data-preview="3" data-tablet="2" data-mobile="1"
                 data-space-lg="30" data-space-md="30" data-space="15" data-loop="false" data-auto-play="false">
                <div class="swiper-wrapper">
                    <div class="swiper-slide" lazy="true">
                        <div class="banner-gr-item hover-img">
                            <a href="shop-default.html" class="img-style">
                                <img class="lazyload" data-src="images/collections/furniture_cate7.jpg"
                                     src="~/images/collections/furniture_cate7.jpg" alt="banner-collection">
                            </a>
                            <div class="content">
                                <div class="title">
                                    <a href="shop-default.html" class="link fw-5">Urban Retreat</a>
                                </div>
                                <a href="shop-default.html" class="tf-btn btn-line fw-6">
                                    Shop Collection<i class="icon icon-arrow1-top-left"></i>
                                </a>
                            </div>
                        </div>
                    </div>
                    <div class="swiper-slide" lazy="true">
                        <div class="banner-gr-item hover-img">
                            <a href="shop-default.html" class="img-style">
                                <img class="lazyload" data-src="images/collections/furniture_cate8.jpg"
                                     src="~/images/collections/furniture_cate8.jpg" alt="banner-collection">
                            </a>
                            <div class="content">
                                <div class="title">
                                    <a href="shop-default.html" class="link fw-5">Coastal Serenity</a>
                                </div>
                                <a href="shop-default.html" class="tf-btn btn-line fw-6">
                                    Shop Collection<i class="icon icon-arrow1-top-left"></i>
                                </a>
                            </div>
                        </div>
                    </div>
                    <div class="swiper-slide" lazy="true">
                        <div class="banner-gr-item hover-img">
                            <a href="shop-default.html" class="img-style">
                                <img class="lazyload" data-src="images/collections/furniture_cate9.jpg"
                                     src="~/images/collections/furniture_cate9.jpg" alt="banner-collection">
                            </a>
                            <div class="content">
                                <div class="title">
                                    <a href="shop-default.html" class="link fw-5">Mid-Century Modern</a>
                                </div>
                                <a href="shop-default.html" class="tf-btn btn-line fw-6">
                                    Shop Collection<i class="icon icon-arrow1-top-left"></i>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="sw-dots style-2 sw-pagination-collection justify-content-center"></div>
        </div>
    </div>
</section>
<!-- /Collection -->
<!-- Testimonial -->
<section class="flat-testimonial-v2 flat-spacing-12 ">
    <div class="container">
        <div class="wrapper-thumbs-testimonial-v2 flat-thumbs-testimonial">
            <div class="box-left">
                <div dir="ltr" class="swiper tf-sw-tes-2" data-preview="1" data-space-lg="40"
                     data-space-md="30">
                    <div class="swiper-wrapper">
                        <div class="swiper-slide">
                            <div class="testimonial-item lg lg-2 lg-3">
                                <div class="icon">
                                    <img class="lazyloaded" data-src="images/item/quote.svg"
                                         src="~/images/item/quote.svg">
                                </div>
                                <div class="heading fs-12 mb_18">OUR CUSTOMERS' RAVE REVIEWS</div>
                                <div class="rating">
                                    <i class="icon-star"></i>
                                    <i class="icon-star"></i>
                                    <i class="icon-star"></i>
                                    <i class="icon-star"></i>
                                    <i class="icon-star"></i>
                                </div>
                                <p class="text">
                                    I'm impressed with the durability of the furniture collection. Even after
                                    years of use, the pieces still look and feel as good as new
                                </p>
                                <div class="author box-author">
                                    <div class="box-img d-md-none rounded-0">
                                        <img class="lazyload img-product"
                                             data-src="images/item/furniture_testimonial1.jpg"
                                             src="~/images/item/furniture_testimonial1.jpg" alt="image-product">
                                    </div>
                                    <div class="content">
                                        <div class="name">Robert smith</div>
                                        <a href="product-detail.html" class="metas link">
                                            Purchase item:<span>
                                                MR
                                                Chaise
                                            </span>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="swiper-slide">
                            <div class="testimonial-item lg lg-2 lg-3">
                                <div class="icon">
                                    <img class="lazyloaded" data-src="images/item/quote.svg"
                                         src="~/images/item/quote.svg" alt="">
                                </div>
                                <div class="heading fs-12 mb_18">OUR CUSTOMERS' RAVE REVIEWS</div>
                                <div class="rating">
                                    <i class="icon-star"></i>
                                    <i class="icon-star"></i>
                                    <i class="icon-star"></i>
                                    <i class="icon-star"></i>
                                    <i class="icon-star"></i>
                                </div>
                                <p class="text">
                                    I have been shopping with this web fashion site for over a year now and I
                                    can confidently say it is the best online.
                                </p>
                                <div class="author box-author">
                                    <div class="box-img d-md-none rounded-0">
                                        <img class="lazyload img-product"
                                             data-src="images/item/furniture_testimonial2.jpg"
                                             src="~/images/item/furniture_testimonial2.jpg" alt="image-product">
                                    </div>
                                    <div class="content">
                                        <div class="name">Alex Graham</div>
                                        <a href="product-detail.html" class="metas link">
                                            Purchase item:<span>
                                                Bonbon Shade
                                            </span>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="d-md-flex d-none box-sw-navigation">
                    <div class="nav-sw nav-next-slider nav-next-tes-2">
                        <span class="icon icon-arrow-left"></span>
                    </div>
                    <div class="nav-sw nav-prev-slider nav-prev-tes-2">
                        <span class="icon icon-arrow-right"></span>
                    </div>
                </div>
                <div class="d-md-none sw-dots style-2 sw-pagination-tes-2"></div>
            </div>
            <div class="box-right">
                <div dir="ltr" class="swiper tf-thumb-tes" data-preview="1" data-space="30">
                    <div class="swiper-wrapper">
                        <div class="swiper-slide">
                            <div class="img-sw-thumb">
                                <img class="lazyload img-product"
                                     data-src="images/item/furniture_testimonial1.jpg"
                                     src="~/images/item/furniture_testimonial1.jpg" alt="image-product">
                            </div>
                        </div>
                        <div class="swiper-slide">
                            <div class="img-sw-thumb">
                                <img class="lazyload img-product"
                                     data-src="images/item/furniture_testimonial2.jpg"
                                     src="~/images/item/furniture_testimonial2.jpg" alt="image-product">
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<!-- /Testimonial -->

<script>
    function addToWishlist(productId){
        console.log(productId);
        fetch(`/wishlist/add/${productId}`, {
            method: 'POST'
        })
        .then(response=>{
            if(response.ok){
                console.log("ok");
                alert('product added to wishlist');
            }
            else
            {
                alert('Failed');
            }
        })
        .catch(error=>{
            console.error('Error:', error);
            alert('An error occured');
        });
    }
</script>
